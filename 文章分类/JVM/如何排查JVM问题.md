# 如何排查JVM问题
- 对于正在运行的系统：可以使用jmap来查看JVM中各个区域的使用情况。可以使用jstcak查看线程的运行情况，比如哪些线程出现了死锁和阻塞等情况。可以通过jstat命令来查看垃圾回收的情况，特别是fullGC（重GC），如果发现fullGC的次数过多，那么就需要考虑是否存在内存泄漏的情况或者针对项目需要进行调优。通过各个命令的结果或者jvisualvm等工具进行分析。首先初步猜测出现fullGC的原因，如果频繁发生fullGC但是又一直没出现内存溢出问题表示fullgc其实已经回收了很多对象了，那么这些对象最好在younggc过程中就直接回收掉，避免这些对象进入老年代，对于这种情况，就要考虑这些存活时间不长的对象是不是比较大，导致年轻代放不下，直接被放到了老年代，可以尝试加大年轻代的大小，如果改完之后，fullgc减少了，就说明修改有效。同时，还可以找到占用CPU最多的线程，定位到具体的放啊，优化这个方法的执行，看是否能避免某些对象的创建，从而节省内存
- 对于已经发生了OOM的情况：一般系统发生了OOM的时候就会产生一个dump文件，我们可以用jsisualvm等工具去分析这个dump文件，根据dump文件找到异常的实例对对象和异常的线程，根据dump文件找到了异常的实例对象和异常的线程之后定位到具体的代码然后进行详细的分析和调试